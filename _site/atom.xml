<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>Nick on Computing: blog</title>
    <link href="http://nickmcavoy.com/atom.xml" rel="self" />
    <link href="http://nickmcavoy.com" />
    <id>http://nickmcavoy.com/atom.xml</id>
    <author>
        <name>Nicholas McAvoy</name>
        <email>nicholas.mcavoy@gmail.com</email>
    </author>
    <updated>2014-07-19T00:00:00Z</updated>
    <entry>
    <title>Welcoming the Stranger</title>
    <link href="http://nickmcavoy.com/yhwh/posts/2014/07/19/welcoming-the-stranger/" />
    <id>http://nickmcavoy.com/yhwh/posts/2014/07/19/welcoming-the-stranger/</id>
    <published>2014-07-19T00:00:00Z</published>
    <updated>2014-07-19T00:00:00Z</updated>
    <summary type="html"><![CDATA[<article>
  <header>
    <h1 class="entry-title">
      <a href="/yhwh/posts/2014/07/19/welcoming-the-stranger/">Welcoming the Stranger</a>
    </h1>
    <div class="meta">
      <time datetime="2014-07-19" pubdate data-updated="true">19 July 2014</time>
      <div class="tags"><a href="/tags/all%20peoples/">all peoples</a></div>
    </div>
  </header>

  <p>I was riding my bike home this evening past the Penn campus when I saw three people struggling around a campus map. It was starting to get dark and they were using their phones to try and illuminate the map. Like usual in this kind of situation, I pulled over to ask if I could help them find their way.</p>
<!-- MORE -->

<p>I was a little puzzled at first because they looked perfectly plausibly like Penn students: Asian, two men and a woman, in casual summer dress, just like thousands of people at Penn. But when I asked if they needed help finding something they didn’t understand me fully at first. At that point it was clear they were probably visiting foreigners.</p>
<p>As it turned out I had never heard of the building they were searching for, so instead of simply pointing them on their way I got out my phone and searched with them. In the meantime I noticed they were speaking Korean to one another.</p>
<p>“You guys from Korea?” I asked.</p>
<p>They seemed quite surprised. “Yes. How do you know?” the woman asked.</p>
<p>“You’re speaking Korean.”</p>
<p>I played it off like it was normal for an American to distinguish Korean from other Asian languages. It’s not, of course. Neither did I regale them with stories of studying Korean or visiting Korea.</p>
<p>Eventually I did find the building’s location and I gave them clear directions. I asked a bit about their visit and wished them a sincere welcome and a good stay here in Philadephia.</p>
<p>It was a very affirming experience for me. It reminded me something of why I started studying Korean to begin with. In most of the U.S. east Asian people are all assumed to be Chinese, or perhaps Japanese. To be able to offer those visitors a welcome rooted in some measure of understanding made a real difference in our interaction, and things like that go a long way toward a visitor’s perception of a place.</p>
<p>God welcomes us as strangers into his family. Extending that welcome to others is part of his call to us and a gift. I hope this little experience of doing so foreshadows more chances to do so in bigger ways.</p>
</article>

]]></summary>
</entry>
<entry>
    <title>On a Diet</title>
    <link href="http://nickmcavoy.com/muse/posts/2014/07/17/on-a-diet/" />
    <id>http://nickmcavoy.com/muse/posts/2014/07/17/on-a-diet/</id>
    <published>2014-07-17T00:00:00Z</published>
    <updated>2014-07-17T00:00:00Z</updated>
    <summary type="html"><![CDATA[<article>
  <header>
    <h1 class="entry-title">
      <a href="/muse/posts/2014/07/17/on-a-diet/">On a Diet</a>
    </h1>
    <div class="meta">
      <time datetime="2014-07-17" pubdate data-updated="true">17 July 2014</time>
      <div class="tags"><a href="/tags/good%20listening/">good listening</a></div>
    </div>
  </header>

  <p>I bought a car with a nice stereo system last fall. This feature was important to me. My last car had no working stereo by the time I got rid of it. I often find driving a frustrating waste of time, and I thought having good listening would go a long way to making better use of the time and disliking it less.</p>
<p>That proved mostly true. Mornings on the way to work I basked in auditory splendor. I delighted in the music, and driving was a little better. But something else happened too. I started to develop a tolerance.</p>
<!-- MORE -->

<p>Albums go really far for me. It takes maybe three listens before even know whether or not I like an album, and I can listen to a good CD dozens of times without tiring of it. But as I continued listening to sixty to ninety minutes of music per day, that began to change. I moved through albums more quickly. What was worse, I seemed to be enjoying them less.</p>
<p>I wondered if a kind of obesity was coming upon me. Were I to eat a sumptuous feast each night for dinner, it would quickly be obvious that constant indulgence even of very good things was not healthy. As a result I decided to experiment with a more restricted musical diet. During Lent, I would only allow myself to play recorded music on the feast day, Sunday.</p>
<p>The experiment was more successful even than I expected. I mostly enjoyed the respite during Lent, but the real surprise came afterward when I first tried to listen to <em>A Walking Fire</em> by Brooklyn Rider. Quite analogous to the first meal after a fast, my sensibilities were sharpened and the music came to me more richly and intensely. This was so much the case that well before the end of the album I was “stuffed.” I had taken in quite enough music for the day, and listening even to the whole album made me uncomfortable.</p>
<p>It is now well past Pentecost and my listening habits have not really changed. I regularly go more than a week without playing music now. That’s because my faculties are so much sharper that one listen can last me a long time. Last Tuesday evening I listened to <em>Appalachian Journey</em>, and this morning it was still running through my head.</p>
<p>Another consequence of listening to music less is that I listen to less music. I do not put on music just to have it in the background, and as a result I never listen to the music that I would only play for such purposes. In the extreme you could say that I have not been eating potato chips, but only juicy steak.</p>
<p>Maybe I will enter a phase where I want to explore more new music. Hopefully music I deem worthy of such exploration will also be deemed worthy of my attention. In a media landscape that constantly fractures attention, it’s nice to have some focus.</p>
</article>

]]></summary>
</entry>
<entry>
    <title>Puerto Rico Travelogue: Sunday, June 22</title>
    <link href="http://nickmcavoy.com/nick/posts/2014/07/12/puerto-rico-travelogue-sunday-june-22/" />
    <id>http://nickmcavoy.com/nick/posts/2014/07/12/puerto-rico-travelogue-sunday-june-22/</id>
    <published>2014-07-12T00:00:00Z</published>
    <updated>2014-07-12T00:00:00Z</updated>
    <summary type="html"><![CDATA[<article>
  <header>
    <h1 class="entry-title">
      <a href="/nick/posts/2014/07/12/puerto-rico-travelogue-sunday-june-22/">Puerto Rico Travelogue: Sunday, June 22</a>
    </h1>
    <div class="meta">
      <time datetime="2014-07-12" pubdate data-updated="true">12 July 2014</time>
      <div class="tags"><a href="/tags/travel/">travel</a></div>
    </div>
  </header>

  <p>Prior to the trip I entertained the thought of finding a Puerto Rican church to go to. Once there I even looked up a Presbyterian church in nearby Rio Grande. Not sure how I would get there, I thought I could at least tag along with Mom and Mark to mass. As it played out, however, I simply slept too late to do any of that.</p>
<p>They evidently endured quite a long sermon of which Mark understood zero words. Returning after noon, Mom made French toast from the Puerto Rican bread, topped with mangoes that were not quite in season but still as good as you generally find in the Northeast. On this day we were to finally connect with the other two parties of our family who were visiting at the same time. Uncle Paul and his crew were reloacting from the San Juan leg of their trip to a condo rental in Rio Grande, while Aunt Lisa and Fred and Grandma and Grandpa were to arrive early that afternoon from Baltimore.</p>
<!-- MORE -->

<p>We hoped to go that afternoon to a lechonera in Guavate, central Puerto Rico. Lechón is the Puerto Rican way of preparing and spit roasting whole pigs. The pork is seasoned with adobo and incredibly tender. We thought we had to go on Sundays because of the mention of a New York Times travel article. But there were a lot of moving pieces. Aside from my grandparents’ imminent arrival, I also hoped to meet with our closest and only remaining Puerto Rican relative living on the island, my grandmother’s first cousin Mr. Enrique Coto. As it turned out, while Sunday is indeed the big day for Puerto Ricans to have such excursions, lechoneras are open seven days, my grandparents would not be in any shape to turn around and drive for two hours after arriving in Luquillo, and Ricky was already at the lechonera by noon. We shelved the plan for later in the week, hoping to make it a waystation on our way to my great grandmother’s native Ponce.</p>
<p>Since that plan was shelved, the McAvoys and Irelands among us decided to try and visit the famous bioluminescent bay in nearby Fajardo. This is a small inlet where certain plankton thrive off of the roots of mangrove trees lining the banks, and when they are disturbed they glow. Mom and Samantha and I vividly remembered the Bay from our 2004 visit to the island. We remembered glowing as blue as Obi Wan Kenobi as we swam in the bay (now illegal, oops) and seeing the fish stream next to the boat like shooting stars below us. At that time we just found and independent boat owner for hire, but we struggled to find such an arrangement this time. Most tours were by kayak, which no one but Samantha was enthused by, and all seemed to be in the $50 per head range. So we thought we would head out for Fajardo and try and recapture the magic.</p>
<p>We did find a kmart in Fajardo where Samantha and Jace bought long pants for potential horseback riding later in the day or week. We also found people riding horses in the street. We found the ferry terminal where we could ship out to the nearby island of Culebra and its perfect beaches. We found construction, and a resort, and restaurants, and poor housing, and many speedbumps, and even a marina. We saw the beautiful picnic area along the water there near the Las Cabezas de San Juan reserve in which the Bay was found. But we did not find our boat captain in shining armor. Resigned to the information we previously found online, we returned home a bit worse for the wear.</p>
<p>For dinner we were to meet Mark at the kioscos. We could see the lots to the kioscos were jam packed. It seemed Sunday was indeed the day Puerto Ricans have outings. We parked a little ways away on a beach road and walked there, past many beach parties and more loud music. Our only constraint for dinner was the place needed to have a TV so that Mark could watch USA vs Portugal in the World Cup. I did not mind seeing the game myself. We ended up at an Italian-Puerto Rican place called Ossobucco.</p>
<p>At Ossobucco I learned that my faculties for judging books by their covers were not nearly so effective in Puerto Rico as they were back home. Judging by appearances, particularly the beat-up and hard-to-read menu, I did not think the food would be very good. But I was quite wrong. In my opinion this was the best restaurant meal of the trip. Mom and I shared arepas, something of a first for each of us and quite delicious. The tostones (fried sliced plantains) here were just what tostones ought to be, hot and salty, and just what they were not always at other places. My seafood paella came in a long plate that conjured images of Spanish sail ships and was remarkable. I topped it off with a memorably delicious and refreshing mojito. Others had the likes of mofongo and churrasco steak, while Mom outright ordered pasta. Sam drank straight from a coconut.</p>
<p>On the walk back to our car Sam saw a shooting star. Or was it Mom? The sky and the water were the same shade of grey-black, and whispy grey clouds complemented the sea breeze. That night we left the French doors open, the breeze persuading predatory insects to mostly leave us alone.</p>
</article>

]]></summary>
</entry>
<entry>
    <title>Puerto Rico Travelogue: Saturday, June 21</title>
    <link href="http://nickmcavoy.com/nick/posts/2014/07/12/puerto-rico-travelogue-saturday-june-21/" />
    <id>http://nickmcavoy.com/nick/posts/2014/07/12/puerto-rico-travelogue-saturday-june-21/</id>
    <published>2014-07-12T00:00:00Z</published>
    <updated>2014-07-12T00:00:00Z</updated>
    <summary type="html"><![CDATA[<article>
  <header>
    <h1 class="entry-title">
      <a href="/nick/posts/2014/07/12/puerto-rico-travelogue-saturday-june-21/">Puerto Rico Travelogue: Saturday, June 21</a>
    </h1>
    <div class="meta">
      <time datetime="2014-07-12" pubdate data-updated="true">12 July 2014</time>
      <div class="tags"><a href="/tags/travel/">travel</a></div>
    </div>
  </header>

  <p>Mom made breakfast in our little kitchen. The kitchen itself was not outfit well for serious cooking. There was no oven, and finding simple things like mixing bowls was a little difficult. Nevertheless the challenge was nothing Mom was not up to, and we enjoyed scrambled eggs and toast made with pan de agua.</p>
<p>Afterwards we packed up and went to Luquillo Beach, just a mile or so farther down the coastline. You could see it from our apartment and hear it too, beacuse for most of the time loud music was playing near the water and the bass would make it all the way to our ears. The beach itself was dominated by locals. We all noticed how they seemed to have less stress about body image than mainland Americans, since all manner of human body was hanging comfortably out of swimsuits wherever we looked.</p>
<!-- MORE -->

<p>The sand wasn’t anything too special and you did seem to have to watch out for ants. The water, however, was wonderful. Cool, still, clear, and very salty, it was effortless to float in. The four of us without Mark actually held hands in a chain floating on our backs at one point. Floating there and seeing the sun through your eyelids felt something like a return to the womb. I enjoyed swimming for the first time since my auto accident last fall, finding the water resistance good for my recovering joints.</p>
<p>At lunchtime we left our towels and beach things and made for the kioscos on foot. We observed more comfortable Puerto Rican bodies, some games in the sand, and some impressive coniferous trees. Eventually we got to a point where we would need to walk across a narrow row of cinderblocks over a small concrete structure over a pond, or walk around a long way. We decided to go the short way, and one or two of us found the big step across the middle of the bridge to be on the frightening side. Mom paused for a good while, frozen. I was last in line and too felt a pang of hesitation when it was my time, but Sam told me there was someone waiting behind me, I suddenly realized it was no big deal, and with the problem solved in my mind I went across without any further problem. On the way back we took the longer way.</p>
<p>There was some disagreement about our lunch location. All of the places seemed identical with the same fried Puerto Rican dishes like plantains or pasteles in the window. Samantha favored the first place we walked through since it was full of locals, but Mom and I did not want to be around the likes of a man who had been on a slot machine for far too long (there were slots in the restaurant). We ended up at a place called the Ceviche Hut, more unique than the other places but more expensive as well. Each of the couples split a dish while I actually ordered ceviche, which I found delightful.</p>
<p>We were not back in the water for long before our big incident of the day occurred. Mark remained on the shore while the rest of us swam more. He got up to buy some ice cream, leaving his wallet and mine in the cooler with our stuff. A group of youths next to us had been drinking all day and did not seem to be up to much good. Mark kept an eye on the wallets and saw one of them take the wallets and take off.</p>
<p>From my perspective in the water (under the shadow of misty El Yunque far in the distance) I said to Mom, “Hey, Mark is running really fast.” I thought he must have found a game with some locals. Mom’s guess was far more accurate. “I wonder if someone stole the wallets.”</p>
<p>Give adrenaline and Mark some credit. Drunk or no, Mark had 40 years on the thief, but he caught him quickly. The kid evidently realized that Mark was going to catch and tackle him and was so afraid he just threw the wallets away. This after attempting to blend in with his friends who all tried to play dumb.</p>
<p>By the time first I then the rest of us arrived from the beach, Mark was sitting on the cooler confronted with 3 of the other drunken youths. They were obnoxious in their attempts at conciliation, trying to get Mark to offer a handshake. “You can’t do bad in life. You got to do good in life. Jesus wouldn’t approve of him or what you were doing today,” he warned them sternly.</p>
<p>With that we certainly were not going to stick around at the beach. We packed up. On our way out we came across beach patrollwomen. Mark told them about the incident and tried to go with them to find the men. This made a bit more of a spectacle than we already had on our hands. “I’m so sorry about this,” one dear woman said to us as she passed. Nothing much came of the patrol, and we left.</p>
<p>Dinner that night was cheeseburgers at home. We were beginning to learn that Amigo was not the best place to spend our vacation. The lines were just slow moving and the drive was just a bit out of the way. Dinner at any rate was quite serviceable, and we discovered the kitchen was far better outfit for mixing drinks than it was for real food. Samantha and Jace and I followed the old adage (“When in rum [country], do as the rum [drinkers] do”) and made delicious piña coladas which we sipped from tall coqui-printed glasses.</p>
<p>As night drew on we closed the French doors on the balcony, shutting ocean and mosquitos out and air conditioning in.</p>
</article>

]]></summary>
</entry>
<entry>
    <title>Puerto Rico Travelogue: Friday, June 20</title>
    <link href="http://nickmcavoy.com/nick/posts/2014/07/12/puerto-rico-travelogue-friday-june-20/" />
    <id>http://nickmcavoy.com/nick/posts/2014/07/12/puerto-rico-travelogue-friday-june-20/</id>
    <published>2014-07-12T00:00:00Z</published>
    <updated>2014-07-12T00:00:00Z</updated>
    <summary type="html"><![CDATA[<article>
  <header>
    <h1 class="entry-title">
      <a href="/nick/posts/2014/07/12/puerto-rico-travelogue-friday-june-20/">Puerto Rico Travelogue: Friday, June 20</a>
    </h1>
    <div class="meta">
      <time datetime="2014-07-12" pubdate data-updated="true">12 July 2014</time>
      <div class="tags"></div>
    </div>
  </header>

  <p>Mom, Mark and I had a 7am departure from the airport. I elected to take the trolley to the regional rail in order to arrive around 5:30. I was in a hurry and so drove to the trolley stop and ended up getting $60 in parking tickets because of street cleaning. Oops. The Southwest flight attendants were of unusually good humor and we arrived without event around 1pm. At the airport we met Samantha and Jace.</p>
<p>We were immediately impressed by the heat, humidity, and intensity of sunlight. It seemed we pale northeasterners might wilt in the island heat, especially as we waited for Mark to unlose himself en route back to the airport with the rental car. However we would soon be acclimated to the weather and find it rather pleasant.</p>
<p>We considered meeting up with Uncle Paul and family in Old San Juan where they were staying until Sunday, but not having a map or a great idea where we were going, and our landlady being insistent about meeting us at our rental apartment in Luquillo, we continued on straight. “TU MUNDO ES LIBERTY” greeted us from a mountainside as we drove east on 66.</p>
<!-- MORE -->

<p>Our landlady Maritza was a character. A New York Puerto Rican, she spoke English so fast that some despaired of understanding her were she to use Spanish. She was also frank about herself, the culture of Puerto Ricans who have not lived in the States (effectively calling them lazy as a rule), and so forth.</p>
<p>The apartment was in a neighborhood that was clearly once very upscale but was not so much now. On the one hand were the neighbors with their two Mercedes parked conspicuously by the road but safely behind a gate, and on the other were stray dogs, chickens, and many neighborhood folk who were clearly not upper class. The back wall of the apartment opened through French doors to a balcony that overlooked the ocean by no more than a hundred yards. Walking out of the bedroom to eternity lapping at our back wall became a surreal and delightful experience through the week.</p>
<p>For dinner we ventured to the Luquillo kioscos, a long strip of sixty or so shops and restaurants maybe a mile east of our place. We found ourselves at a Maritza-recommended restaurant, one Don Coqui, and were privileged to meet the hostess Diane. Another New York Puerto Rican, she was generous, made us feel at ease, and spoke fondly of her grandchildren. Puerto Rico clearly being a land of rum, I ordered my first piña colada as well as my first mofongo. While we waited for the food Mark took up a game of pool and the jukebox with who proved to be a southeast Pennsylvania native anthropology PhD student and his Japanese friend or companion. The man was studing religion in Puerto Rico, something about how African spirituality was manifest in Puerto Rican religious practice.</p>
<p>From there we went to the Amigo grocery store in San Juan. In the ten years since we were last in Puerto Rico it was apparently bought out by Walmart. Produce shows prominently where it comes from. Unfortunately as Diane warned us mangoes did not seem to yet be in season, even though they came from Puerto Rico.</p>
<p>Once home we discovered the wireless Internet worked passably except for my Apple products. I nevertheless was able to plug into the router via Ethernet. This having been quite enough for one day, we retired and were soon sleeping fast by the loud hum of the bedroom air conditioners.</p>
</article>

]]></summary>
</entry>
<entry>
    <title>Pallet for Automation and Profit</title>
    <link href="http://nickmcavoy.com/tech/posts/2014/05/27/pallet-for-automation-and-profit/" />
    <id>http://nickmcavoy.com/tech/posts/2014/05/27/pallet-for-automation-and-profit/</id>
    <published>2014-05-27T00:00:00Z</published>
    <updated>2014-05-27T00:00:00Z</updated>
    <summary type="html"><![CDATA[<article>
  <header>
    <h1 class="entry-title">
      <a href="/tech/posts/2014/05/27/pallet-for-automation-and-profit/">Pallet for Automation and Profit</a>
    </h1>
    <div class="meta">
      <time datetime="2014-05-27" pubdate data-updated="true">27 May 2014</time>
      <div class="tags"><a href="/tags/devops/">devops</a> | <a href="/tags/Clojure/">Clojure</a></div>
    </div>
  </header>

  <p>There are a million little projects I would like to build in my spare time and have sitting out there on the Internet. It’s tempting to get hacking on them as soon as I think of them, but that ignores an entire world of things that need to happen between committing the code and having it running on the Web.</p>
<p>Before software can be run, it needs to be deployed. Before it can be deployed, a server needs to be provisioned and waiting for it. Of course all of this can be done manually, but that only makes sense when n=1, i.e. never. So we’ll automate that, and while we’re at it we might as well try and mix in some of our favorite principles from software engineering proper, such as repeatability (idempotence?) and even immutability.</p>
<p>Chef and Puppet are the most popular tools for this kind of automation. At Relay we use Chef. I did not want to use either because I’m difficult like that; I’m not going to spend my free time writing Ruby or python if there is a good alternative. So I turned to Pallet.</p>
<!-- MORE -->

<h3 id="about-pallet">About Pallet</h3>
<p>Pallet is a Clojure project, so you could almost say it had me at <code>(println &quot;Hello&quot;)</code>. I’m not any kind of an expert in Chef and I’ve never touched Puppet, so I don’t have a great idea of what each system’s distinctives are. But as far as I can tell here are some of Pallet’s emphases:</p>
<ul>
<li><p>Pallet’s work does not start with a running virtual private server. Pallet uses JClouds to talk to cloud providers directly in doing things like spinning up server instances.</p></li>
<li><p>Nor does Pallet’s work finish when the server is provisioned. It can apparently be used to deploy your software, to start and stop services, and even to run administrative tasks. “To be honest,” the documentation admits, “this wasn’t an initial design goal, but has come out of the wash that way.”</p></li>
<li><p>Pallet doesn’t require any software to be installed on your destination servers. It just executes all of its commands over ssh from whatever JVM you run it on. This seems simpler than Chef to me.</p></li>
</ul>
<h3 id="using-pallet">Using Pallet</h3>
<p>I created a Pallet template using Clojure’s build tool, Leiningen. It being a Clojure project, I loaded it into a new <code>lein repl</code> and was thus able to develop and execute right from my connected Emacs buffer.</p>
<p>For all of my projects I envision the same basic setup. Just like at Relay, I’ll put nginx in front of ports 80 and 443 and use it to serve up static assets and reverse proxy through to other webservers running for specific projects. Most of my projects will probably run on the JVM, so I’ll need to install java. And git will probably be necessary. So, for my first milestone I thought I would get a vps running with nginx, java, and git.</p>
<p>As for a target first project, this blog used to run embedded in a Play! framework app on Heroku, but I wanted to start hosting it in a vps. So I thought I’d start with the words you’re reading. Simple.</p>
<p>Here’s what I ended up with:</p>
<pre class="sourceCode clojure"><code class="sourceCode clojure">(<span class="kw">ns</span> nmdc.groups.nmdc
  <span class="st">&quot;Node defintions for nmdc&quot;</span>
  (<span class="kw">:require</span>
   [pallet.api <span class="kw">:refer</span> [group-spec server-spec node-spec plan-fn]]
   [pallet.compute <span class="kw">:as</span> compute]
   [pallet.crate.automated-admin-user <span class="kw">:refer</span> [automated-admin-user]]
   [pallet.crate.git <span class="kw">:as</span> git-crate]
   [pallet.crate.java <span class="kw">:as</span> java-crate]
   [pallet.crate.nginx <span class="kw">:as</span> nginx-crate]))

(<span class="kw">def</span><span class="fu"> nginx-config</span>
<span class="co">;; .....</span>
)

(<span class="kw">def</span>
<span class="fu"> </span>^{<span class="kw">:doc</span> <span class="st">&quot;Define a server spec for nmdc&quot;</span>}
 nmdc-server
 (server-spec
  <span class="kw">:extends</span> [(git-crate/git {})
            (java-crate/server-spec {<span class="kw">:vendor</span> <span class="kw">:openjdk</span>
                                     <span class="kw">:components</span> #{<span class="kw">:jdk</span> <span class="kw">:jre</span>}
                                     })
            (nginx-crate/nginx nginx-config)]))

(<span class="kw">def</span><span class="fu"> nmdc-nodes</span>
     (pallet.compute/instantiate-provider
      <span class="st">&quot;node-list&quot;</span>
      <span class="kw">:node-list</span> [[<span class="st">&quot;prod&quot;</span> <span class="st">&quot;nmdc&quot;</span> <span class="st">&quot;107.170.182.57&quot;</span> <span class="kw">:ubuntu</span>]]))

(<span class="kw">defn</span><span class="fu"> provision-nmdc </span>[]
  (pallet.api/lift
  (group-spec
    <span class="st">&quot;nmdc&quot;</span>
    <span class="kw">:extends</span> [nmdc-server]
    <span class="kw">:node-spec</span> (node-spec
      <span class="kw">:image</span> {<span class="kw">:os-family</span> <span class="kw">:ubuntu</span>}
      <span class="kw">:hardware</span> {<span class="kw">:min-cores</span> <span class="dv">1</span>}))
   nmdc-group
   <span class="kw">:compute</span> nmdc-nodes
   <span class="kw">:phase</span> [<span class="kw">:install</span> <span class="kw">:settings</span> <span class="kw">:configure</span> <span class="kw">:reload</span>]))

(<span class="kw">comment</span>

  (<span class="kw">def</span><span class="fu"> next-run </span>(provision-nmdc))
  (<span class="kw">-&gt;</span> next-run <span class="kw">:results</span> <span class="kw">first</span> <span class="kw">:result</span>)
)</code></pre>
<p>If you can scrutinize the syntax a little bit, you’ll see the above code is about as simple as you could want for the task I described. A <code>server-spec</code> declares that I want to install git, java, and nginx. Then in a <code>node-list</code> I say my server is at a certain IP address running ubuntu. Then in my <code>provision</code> function I apply that spec to that server, executing phases for installing and configuring the software and reloading the nginx configuration.</p>
<p>I didn’t bother hooking Pallet up to my cloud provider digitalocean’s api directly because for the foreseeable future my projects will be able to run on single instances and there’s no reason to use a shotgun to kill an ant.</p>
<p>The only weird thing about this process for me was specifying the nginx configuration. Instead of giving the crate some relative path to the config files I want installed, it has me pass in the configuration in the form of a Clojure map. I thought that was weird. Maybe there’s a way to specify config files without cloning and modifying the crate itself; I’ll have to see.</p>
<h3 id="in-sum">In sum</h3>
<p>I don’t know if Pallet will ultimately prove a better choice than Chef or not. I was definitely able to get up and running with it faster than I could with Chef, but since the user base is smaller by at least an order of magnitude I may have to roll my own crates more often than I might with Chef. I’m also not sure how much Pallet actually takes functional principles to heart and how much it’s just a slightly more appealing wrapper for bash.</p>
<p>At any rate, I plan to keep using it and I’m happy with what I’ve done so far.</p>
</article>

]]></summary>
</entry>
<entry>
    <title>Thursday Dinner</title>
    <link href="http://nickmcavoy.com/food/posts/2014/05/22/thursday-dinner/" />
    <id>http://nickmcavoy.com/food/posts/2014/05/22/thursday-dinner/</id>
    <published>2014-05-22T00:00:00Z</published>
    <updated>2014-05-22T00:00:00Z</updated>
    <summary type="html"><![CDATA[<article>
  <header>
    <h1 class="entry-title">
      <a href="/food/posts/2014/05/22/thursday-dinner/">Thursday Dinner</a>
    </h1>
    <div class="meta">
      <time datetime="2014-05-22" pubdate data-updated="true">22 May 2014</time>
      <div class="tags"><a href="/tags/cooking/">cooking</a></div>
    </div>
  </header>

  <p>Now that was the way it is supposed to be.</p>
<p>At 8:35 I looked at the clock and sighed a contented sigh. Two hours earlier I had left work. Two hours had been enough time to catch the train, ride my bike home, and cook and eat a satisfying meal despite having no prior plan.</p>
<!-- MORE -->

<p>That’s what my CSA is supposed to do for me. CSA stands for community-supported agriculture. It’s basically a vegetable subscription. I sign up for a season and every week I pick up a box of goods from farms in Lancaster County. Everything is fresh and organic and, Pennsylvania being the bounteous land that it is, there is a lot of variety.</p>
<p>Without the CSA I likely would have eaten out somewhere. But with it, even though I had given no thought to Thursday dinner before Thursday evening I had plenty to work with without needing to stop at the store. I ended up cooking up some CSA baby red Russian kale and shiitake mushrooms along with some onion, garlic, and lemon I had on hand. I served it on thin toasted slices of the sourdough bread I make every week. It hit the spot!</p>
<p>And so I achieved something very rare for me: a delicious, satisfying meal that did not take much time, effort, or planning. After finishing I had so much time left over I decided to write a blog post.</p>
</article>

]]></summary>
</entry>
<entry>
    <title>Our First and Our Best</title>
    <link href="http://nickmcavoy.com/yhwh/posts/2014/03/03/our-first-and-our-best/" />
    <id>http://nickmcavoy.com/yhwh/posts/2014/03/03/our-first-and-our-best/</id>
    <published>2014-03-03T00:00:00Z</published>
    <updated>2014-03-03T00:00:00Z</updated>
    <summary type="html"><![CDATA[<article>
  <header>
    <h1 class="entry-title">
      <a href="/yhwh/posts/2014/03/03/our-first-and-our-best/">Our First and Our Best</a>
    </h1>
    <div class="meta">
      <time datetime="2014-03-03" pubdate data-updated="true"> 3 March 2014</time>
      <div class="tags"><a href="/tags/church/">church</a></div>
    </div>
  </header>

  <p>I got a couple of lessons from church on a trip to New York last weekend.</p>
<p>The first was the reenforcement of something I first learned from my friend Youmie. It might be difficult to understand. I was amazed to learn from her in 2009 that she had missed church only a handful of times in her life. Missing church just wasn’t much of an option for her.</p>
<p>What is probably hard to understand about this attitude is that this constant attendance was linked neither to avoiding guilt for missing church nor to pride in having gleaming attendance. It was challenging to me because missing a particular Sunday had never seemed like a very big deal to me. Since that conversation I have tried to take on this outlook myself.</p>
<p>Doing so was a bit of a challenge yesterday. The reason I was in New York to begin with was for <a href="http://nescala.org">a conference</a> that I had helped organize and a morning of which I would hate to miss. Moreover, my absence would be noticed and I would have to explain that I was going to church, which can feel awkward around a bunch of people who by and large are not religious.</p>
<p>Still, I thought I had better stick to my guns. I went with my friends Phil and Ava to <a href="http://emmanuelnyc.org">Emmanuel Presbyterian Church</a> on the Upper West Side. And I am so glad that I did.</p>
<!-- MORE -->

<p>While I did miss talks I would have liked to see, the Holy Spirit met me at the church service in a big way. This happened in a few ways, but I would like to focus on one.</p>
<p>The offertory. Wow. A member of the church played an etude by Chopin. This was an entirely different level than I had ever conceived of. My own church is blessed with excellent musicians, but I confess that I think of the music played during the offertory as not very much more than background music, without which silence during the passing of collection plates might be awkward.</p>
<p>But this was no mere offertory. It was itself an offering. This was a concert-quality performance by a concert-quality musician. It was not timed to conclude once the monetary offerings had been collected. It slayed and I nearly cried.</p>
<p>When the performance ended, no one clapped. The artist returned to her seat in silence, depths of emotion I could not read playing across her face.</p>
<p>I was convicted that this was as much an offering as if we had taken a choice bull to the altar and slain it on the spot. What a gift it was, I realized, to be able to give one’s first and one’s best to the Lord. Like my decision to go to church that morning, this was not a burden but the loosing of one.</p>
<p>I wondered how we could take this principle farther into the reaches of our lives. I imagined taking the first pint from one of the batches of beer we brew for our church parties and pouring it out on the ground. I imagined owning a restaurant and giving the first hour’s service to such as live in shelters. I imagined working hard on Saturdays for software to benefit churches.</p>
<p>Such are not ways to fool or bargain God into giving us what we really want. Rather they are a means to know him, to come to want him most, which is our end.</p>
<p>Lord, may I ever remember the beauty of the Chopin offering. May we know the joy of offering you our first and our best.</p>
</article>

]]></summary>
</entry>
<entry>
    <title>"...that they might live in the spirit the way God does."</title>
    <link href="http://nickmcavoy.com/yhwh/posts/2014/02/13/that-they-might-live-in-the-spirit-the-way-god-does/" />
    <id>http://nickmcavoy.com/yhwh/posts/2014/02/13/that-they-might-live-in-the-spirit-the-way-god-does/</id>
    <published>2014-02-13T00:00:00Z</published>
    <updated>2014-02-13T00:00:00Z</updated>
    <summary type="html"><![CDATA[<article>
  <header>
    <h1 class="entry-title">
      <a href="/yhwh/posts/2014/02/13/that-they-might-live-in-the-spirit-the-way-god-does/">&quot;...that they might live in the spirit the way God does.&quot;</a>
    </h1>
    <div class="meta">
      <time datetime="2014-02-13" pubdate data-updated="true">13 February 2014</time>
      <div class="tags"><a href="/tags/Bible%20study/">Bible study</a></div>
    </div>
  </header>

  <p>At last night’s community group we studied <a href="http://www.biblegateway.com/passage/?search=1+peter+4%3A1-11&amp;version=ESV">1 Peter 4:1-11</a>. Verse 6 stuck out to me most:</p>
<pre><code>For this is why the gospel was preached even to those who are dead, that though judged in the flesh the way people are, they might live in the spirit the way God does.</code></pre>
<p>The context is the change in the lives of Christians, that rather than being ruled by the passions of their sinful nature (the flesh), they be ruled by Jesus’s way of living which included suffering and dying.</p>
<!-- MORE -->

<p>We discussed a few reasons for Christians to take up the painful life of dying to the passions that used to rule their lives. One reason Peter mentions explicitly is that such deeds will one day be judged before God. We all agreed that fear of retribution may be the least noble reason for good works, but it could still be a motivating force. Another reason we inferred from the text is that there is no escape from suffering. The fruits of living after the pattern of their former lives are likewise suffering and death. If suffering and death are to be had either way, we might as well suffer for good rather than for our own selfish passions. Peter himself makes this point earlier in his letter.</p>
<p>But the reason that was most provocative for me, and most difficult to imagine, was the final clause in verse 6, the promise of living “in the spirit the way God does.” Lately I have become the more aware of how tenuous life in the flesh is. If we enjoy prosperity and health in our lives, it can come to an end any day, and it is guaranteed to come to an end before too long. Over our lives looms the judgment we will receive after they end, the good account we must and cannot give.</p>
<p>Contrast that to the kind of life God enjoys: utterly effortless and self-consistent, unshakeable, joyous. Peter promises that this is the kind of life on the other end of suffering for the Gospel. More than a simple reward for doing good, it is nothing less than what he elsewhere calls to “partake of the divine nature.” God means not only to bless man as man, but also to elevate man with the mantle of divinity.</p>
<p>Wow. I’ll suffer for that.</p>
</article>

]]></summary>
</entry>
<entry>
    <title>Seeing Dad</title>
    <link href="http://nickmcavoy.com/nick/posts/2014/02/04/seeing-dad/" />
    <id>http://nickmcavoy.com/nick/posts/2014/02/04/seeing-dad/</id>
    <published>2014-02-04T00:00:00Z</published>
    <updated>2014-02-04T00:00:00Z</updated>
    <summary type="html"><![CDATA[<article>
  <header>
    <h1 class="entry-title">
      <a href="/nick/posts/2014/02/04/seeing-dad/">Seeing Dad</a>
    </h1>
    <div class="meta">
      <time datetime="2014-02-04" pubdate data-updated="true"> 4 February 2014</time>
      <div class="tags"><a href="/tags/dreams/">dreams</a></div>
    </div>
  </header>

  <p>A recurring motif in dreams in which my father appears is that I embrace him.</p>
<p>The embrace is one part joy at having him wth me again and one part fear of losing him again.</p>
<p>Ten years after his death I am glad that I still have these dreams. These emotions ought not be buried beneath forgetfulness. And the dreams remind me to pray that they come true.</p>
</article>

]]></summary>
</entry>

</feed>
